@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 45 29% 97%; /* Warm paper white */
    --foreground: 25 15% 25%; /* Warm dark brown */

    --card: 45 29% 99%; /* Slightly whiter paper */
    --card-foreground: 25 15% 25%; /* Warm dark brown */

    --popover: 45 29% 99%; /* Slightly whiter paper */
    --popover-foreground: 25 15% 25%; /* Warm dark brown */

    --primary: 142 76% 56%;
    --primary-foreground: 45 29% 97%;

    --secondary: 217 91% 60%;
    --secondary-foreground: 45 29% 97%;

    --muted: 40 20% 94%; /* Warm light beige */
    --muted-foreground: 25 20% 40%; /* Warm medium brown */

    --accent: 40 20% 94%; /* Warm light beige */
    --accent-foreground: 25 15% 25%; /* Warm dark brown */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 45 29% 97%;

    --border: 35 25% 88%; /* Warm light gray */
    --input: 35 25% 88%; /* Warm light gray */
    --ring: 142 76% 56%;

    --radius: 0.8rem;
  }

  .dark {
    --background: 25 15% 15%; /* Warm dark brown */
    --foreground: 40 20% 94%; /* Warm light beige */

    --card: 25 15% 20%; /* Slightly lighter warm brown */
    --card-foreground: 40 20% 94%; /* Warm light beige */

    --popover: 25 15% 20%; /* Slightly lighter warm brown */
    --popover-foreground: 40 20% 94%; /* Warm light beige */

    --primary: 142 70% 50%;
    --primary-foreground: 25 15% 15%;

    --secondary: 217 91% 60%;
    --secondary-foreground: 40 20% 94%;

    --muted: 25 15% 25%; /* Warm medium brown */
    --muted-foreground: 35 20% 70%; /* Warm light brown */

    --accent: 25 15% 25%; /* Warm medium brown */
    --accent-foreground: 40 20% 94%; /* Warm light beige */

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 40 20% 94%;

    --border: 25 15% 25%; /* Warm medium brown */
    --input: 25 15% 25%; /* Warm medium brown */
    --ring: 142 70% 50%;
  }

  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(var(--muted)) 100%);
    /* Prevent horizontal scrolling on mobile */
    overflow-x: hidden;
    width: 100%;
  }

  /* Ensure all content respects viewport width */
  html, body {
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Scrollbar utilities */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari and Opera */
  }

  /* Mobile-specific optimizations */
  @media (max-width: 768px) {
    /* Ensure forms don't overflow on mobile */
    form {
      max-width: 100%;
      overflow-x: hidden;
    }
    
    /* Prevent text from causing horizontal scroll */
    p, span, div, h1, h2, h3, h4, h5, h6 {
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }
    
    /* Ensure inputs don't overflow */
    input, select, textarea {
      max-width: 100%;
      box-sizing: border-box;
    }
    
    /* Optimize card layouts for mobile */
    .card, [class*="card"] {
      margin-left: 0.5rem;
      margin-right: 0.5rem;
      max-width: calc(100vw - 1rem);
    }

    /* Improve touch targets */
    button, [role="button"], input[type="button"], input[type="submit"] {
      min-height: 48px;
      min-width: 48px;
    }
    
    /* Enhanced mobile time slots for better visibility */
    .mobile-time-slot {
      min-height: 3rem !important;
      font-size: 0.9rem !important;
      font-weight: 600 !important;
      padding: 0.75rem 0.5rem !important;
    }

    /* Better modal sizing on mobile */
    [role="dialog"], .dialog-content {
      margin: 1rem;
      max-width: calc(100vw - 2rem);
      max-height: calc(100vh - 2rem);
    }
  }
}

@layer components {
  .gradient-border {
    @apply relative before:absolute before:-inset-[1px] before:rounded-[inherit] before:p-[1px] before:bg-gradient-to-r before:from-primary/30 before:via-secondary/30 before:to-primary/30 before:-z-10;
  }

  .gradient-card {
    @apply relative overflow-hidden bg-gradient-to-br from-card/95 to-background/95 backdrop-blur-xl backdrop-saturate-150 border-border/50 shadow-[0_4px_20px_rgba(0,0,0,0.08)] hover:shadow-[0_8px_30px_rgba(0,0,0,0.12)];
  }

  .gradient-text {
    @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
  }

  .gradient-hover {
    @apply transition-all duration-300 hover:bg-gradient-to-br hover:from-primary/5 hover:to-secondary/5;
  }

  .glass-card {
    @apply bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/80 shadow-[0_2px_15px_rgba(0,0,0,0.06)];
  }

  .neon-border {
    @apply shadow-[0_0_15px_rgba(var(--primary-rgb)/0.3)];
  }

  .paper-card {
    @apply bg-card border border-border/60 shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-[0_4px_16px_rgba(0,0,0,0.08)] transition-shadow duration-200;
  }

  .paper-button {
    @apply bg-card hover:bg-muted/50 border border-border/60 shadow-[0_1px_3px_rgba(0,0,0,0.05)] hover:shadow-[0_2px_8px_rgba(0,0,0,0.1)] transition-all duration-200;
  }

  /* Mobile-optimized form styles */
  .mobile-form {
    @apply w-full max-w-full px-4 sm:px-6;
  }

  .mobile-card {
    @apply mx-2 sm:mx-auto max-w-full sm:max-w-md;
  }

  /* Enhanced Calendar Styles */
  .calendar-container {
    @apply bg-gradient-to-br from-card via-muted/20 to-card rounded-2xl shadow-xl border-0 overflow-hidden;
  }

  .calendar-day {
    @apply transition-all duration-200 hover:scale-105 hover:shadow-md;
  }

  .calendar-day-selected {
    @apply bg-gradient-to-br from-primary to-primary/90 text-primary-foreground shadow-lg shadow-primary/25;
  }

  .calendar-day-today {
    @apply bg-gradient-to-br from-secondary/20 to-secondary/30 text-secondary-foreground font-semibold ring-2 ring-secondary/30;
  }

  .calendar-nav-button {
    @apply bg-primary/10 hover:bg-primary/20 text-primary border-0 rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-md;
  }

  /* Mobile Calendar Optimizations */
  @media (max-width: 768px) {
    .rdp {
      @apply w-full;
    }
    
    .rdp-table {
      @apply w-full;
    }
    
    .rdp-head_row {
      @apply w-full;
    }
    
    .rdp-row {
      @apply w-full;
    }
    
    .rdp-cell {
      @apply flex-1;
    }
    
    .rdp-day {
      @apply w-full h-10;
    }
    
    .rdp-head_cell {
      @apply flex-1 text-center;
    }
  }

  /* Enhanced Time Slot Styles */
  .time-slot-card {
    @apply bg-gradient-to-br from-white to-muted/30 border-2 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
  }

  .time-slot-available {
    @apply bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 border-green-300 hover:from-green-100 hover:to-emerald-200;
  }

  .time-slot-clinic {
    @apply bg-gradient-to-br from-yellow-50 via-amber-50 to-yellow-100 border-yellow-300 hover:from-yellow-100 hover:to-amber-200;
  }

  .time-slot-reserved {
    @apply bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100 border-blue-300;
  }

  .time-slot-blocked {
    @apply bg-gradient-to-br from-gray-50 via-slate-50 to-gray-100 border-gray-300;
  }

  /* Enhanced Court Header Styles */
  .court-header {
    @apply bg-gradient-to-r from-primary/10 via-secondary/10 to-primary/10 border-b border-border/20;
  }

  .court-status-badge {
    @apply px-3 py-1 rounded-full text-xs font-medium border transition-all duration-200;
  }

  .court-status-indoor {
    @apply bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200;
  }

  .court-status-outdoor {
    @apply bg-green-100 text-green-800 border-green-200 hover:bg-green-200;
  }

  /* Enhanced Filter Button Styles */
  .filter-button {
    @apply px-6 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105;
  }

  .filter-button-active {
    @apply bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-lg shadow-primary/25;
  }

  .filter-button-inactive {
    @apply hover:bg-primary/10 hover:border-primary/30 hover:shadow-md;
  }
}

.court-slot {
  @apply transition-all duration-200;
}

.court-slot:hover {
  @apply transform scale-105;
}

.bounce-in {
  animation: bounce-in 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes bounce-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Enhanced Calendar Animations */
@keyframes calendar-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slot-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

.calendar-fade-in {
  animation: calendar-fade-in 0.3s ease-out;
}

.slot-pulse {
  animation: slot-pulse 2s ease-in-out infinite;
}

/* Enhanced Hover Effects */
.hover-lift {
  @apply transition-all duration-300 hover:-translate-y-1 hover:shadow-xl;
}

.hover-glow {
  @apply transition-all duration-300 hover:shadow-[0_0_20px_rgba(var(--primary)/0.3)];
}

/* Mobile All Columns Visible Layout */
@media (max-width: 768px) {
  /* Prevent any horizontal scrolling on mobile */
  body {
    overflow-x: hidden;
  }
  
  /* Ensure all columns fit on screen without horizontal scroll */
  .mobile-all-columns-visible {
    display: grid;
    width: 100%;
    max-width: 100vw;
    gap: 0.125rem;
    overflow-x: hidden;
    box-sizing: border-box;
  }
  
  .mobile-all-columns-visible > * {
    min-width: 0; /* Allow columns to shrink below their content width */
    max-width: 100%;
    overflow: hidden; /* Prevent content overflow */
    font-size: 0.7rem;
    box-sizing: border-box;
  }
  
  /* Make date headers more compact but readable */
  .mobile-all-columns-visible .text-center {
    padding: 0.5rem 0.25rem;
    font-size: 0.8rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-weight: 600;
  }
  
  /* Adjust time slot text size for better readability */
  .mobile-all-columns-visible .text-sm {
    font-size: 0.75rem;
    line-height: 1.2;
    white-space: nowrap;
  }
  
  .mobile-all-columns-visible .text-base {
    font-size: 0.85rem;
    line-height: 1.2;
    white-space: nowrap;
  }
  
  /* Ensure clinic labels are readable */
  .mobile-all-columns-visible .text-sm.mt-2 {
    font-size: 0.65rem;
    padding: 0.125rem 0.25rem;
    margin-top: 0.125rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  /* Force all flex containers to respect viewport width */
  .mobile-all-columns-visible .flex {
    max-width: 100%;
    flex-wrap: nowrap;
  }
  
  /* Ensure buttons don't cause overflow */
  .mobile-all-columns-visible button {
    min-width: 0;
    max-width: 100%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}

/* Responsive Calendar Grid */
@media (max-width: 640px) {
  .calendar-grid {
    @apply grid-cols-1 gap-3;
  }
  
  .time-slot-grid {
    @apply grid-cols-1 sm:grid-cols-2 gap-3;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .time-slot-grid {
    @apply grid-cols-2 lg:grid-cols-3 gap-4;
  }
}

@media (min-width: 1025px) {
  .time-slot-grid {
    @apply grid-cols-3 xl:grid-cols-4 gap-4;
  }
}
